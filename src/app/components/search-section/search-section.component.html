<div class="bg-brandcolor-white rounded-lg shadow-header shadow-md w-full px-6 py-5 space-y-4">
  <!-- Top: FILTER PILLS -->
  <div class="flex items-center gap-3">
    <span class="text-brandcolor-textweak text-sm uppercase tracking-[0.08em]">
      Search for:
    </span>
    <div class="flex items-center gap-2">
      <!-- Active pill -->
      <button
        type="button"
        class="px-4 py-3 rounded-md bg-brandcolor-fill text-brandcolor-textstrong text-xs font-medium">
        Cases
      </button>
      <!-- Inactive pills (ghost style, text-weak) -->
      <button
        type="button"
        class="px-4 py-3 rounded-md bg-transparent text-brandcolor-textweak text-xs font-medium">
        Attorneys
      </button>
      <button
        type="button"
        class="px-4 py-3 rounded-md bg-transparent text-brandcolor-textweak text-xs font-medium">
        Law Firms
      </button>
      <button
        type="button"
        class="px-4 py-3 rounded-md bg-transparent text-brandcolor-textweak text-xs font-medium">
        Judges
      </button>
      <button
        type="button"
        class="px-4 py-3 rounded-md bg-transparent text-brandcolor-textweak text-xs font-medium">
        Parties
      </button>
    </div>
  </div>

  <!-- Second row: Search input with embedded search button -->
  <div class="flex items-center gap-3">
    <!-- Main search input -->
    <div class="flex-1 flex items-center border border-brandcolor-strokeweak rounded-md bg-brandcolor-white px-4 py-2 gap-3">
      <!-- Left: Dropdown (Natural language / Filter / Advanced) -->
      <div class="relative">
        <button
          type="button"
          (click)="toggleDropdown()"
          class="flex items-center gap-2 pl-[10px] pr-[12px] py-3 border border-brandcolor-strokeweak rounded-md text-brandcolor-textstrong text-sm bg-brandcolor-white">
          <span class="material-symbols-outlined text-brandcolor-textstrong" style="font-size: 18px;">
            {{ getSelectedTypeIcon() }}
          </span>
          <span>{{ selectedSearchType }}</span>
          <span class="material-symbols-outlined text-brandcolor-textweak" style="font-size: 18px;">expand_more</span>
        </button>
        
        <!-- Dropdown Menu -->
        @if (isDropdownOpen) {
          <div class="absolute top-full left-0 mt-1 z-50 bg-brandcolor-white border border-brandcolor-strokeweak rounded-md shadow-lg min-w-[200px] py-1">
            <button
              type="button"
              (click)="selectSearchType('Natural language')"
              class="w-full flex items-center gap-2 px-4 py-2 text-brandcolor-textstrong text-sm hover:bg-brandcolor-fill">
              <span class="material-symbols-outlined text-brandcolor-textstrong" style="font-size: 18px;">psychology</span>
              <span>Natural language</span>
            </button>
            <button
              type="button"
              (click)="selectSearchType('Filter')"
              class="w-full flex items-center gap-2 px-4 py-2 text-brandcolor-textstrong text-sm hover:bg-brandcolor-fill">
              <span class="material-symbols-outlined text-brandcolor-textstrong" style="font-size: 18px;">tune</span>
              <span>Filter</span>
            </button>
            <button
              type="button"
              (click)="selectSearchType('Advanced')"
              class="w-full flex items-center gap-2 px-4 py-2 text-brandcolor-textstrong text-sm hover:bg-brandcolor-fill">
              <span class="material-symbols-outlined text-brandcolor-textstrong" style="font-size: 18px;">settings</span>
              <span>Advanced</span>
            </button>
          </div>
        }
      </div>
      <!-- Divider -->
      <div class="h-6 w-px bg-brandcolor-strokeweak"></div>
      <!-- Placeholder text -->
      <span class="flex-1 text-brandcolor-textweak text-sm">
        Use natural language to find your case...
      </span>
      <!-- Search button inside input -->
      <button
        type="button"
        class="ml-auto flex items-center gap-2 pl-[10px] pr-[12px] py-3 border-[1.5px] border-transparent bg-brandcolor-primary text-brandcolor-white hover:bg-brandcolor-primaryhover focus:border-brandcolor-primary active:border-brandcolor-primary active:shadow-button-press rounded-md text-sm font-medium">
        <span class="material-symbols-outlined" style="font-size: 18px;">search</span>
        <span>Search</span>
      </button>
    </div>
  </div>

  <!-- Helper text: title + inline question -->
  <div class="text-sm">
    <span class="text-brandcolor-textstrong">What is </span>
    <span class="text-brandcolor-secondary font-semibold">Natural Language Search?</span>
  </div>
</div>