<div class="bg-brandcolor-white font-sans h-full w-full overflow-hidden p-6">
  <!-- Heading -->
  <h2 class="text-brandcolor-textstrong font-semibold text-lg mb-4 font-sans">Filter your results</h2>

  <!-- Accordion Container -->
  <div id="accordion-collapse" class="font-sans">
      
      <!-- State Accordion -->
      <h3 id="accordion-collapse-heading-state">
        <button type="button" 
                (click)="onAccordionClick('state', $event)"
                class="flex items-center justify-between w-full p-3 font-medium text-left text-brandcolor-textstrong bg-transparent hover:bg-brandcolor-fill transition-colors font-sans"
                data-accordion-target="#accordion-collapse-body-state" 
                aria-expanded="false" 
                aria-controls="accordion-collapse-body-state">
          <span class="font-sans">State</span>
          <svg class="w-5 h-5 shrink-0 transition-transform duration-200 text-brandcolor-textstrong" data-accordion-icon fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
      </h3>
      <div id="accordion-collapse-body-state" class="hidden" aria-labelledby="accordion-collapse-heading-state">
        <div class="pt-3 px-3 pb-0 font-sans space-y-2">
          @if (accordionStates['state'].isLoading) {
            <div class="flex items-center justify-center py-4">
              <svg class="animate-spin h-6 w-6 text-brandcolor-secondary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </div>
          } @else {
            @for (item of getVisibleItems('state'); track item.label) {
              <label class="flex items-center gap-2 cursor-pointer hover:bg-brandcolor-fill p-2 rounded font-sans">
                <input type="checkbox" class="w-4 h-4 text-brandcolor-primary border-brandcolor-strokeweak rounded focus:ring-brandcolor-primary checked:bg-brandcolor-primary checked:border-brandcolor-primary">
                <span class="text-sm text-brandcolor-textstrong font-sans">{{ item.label }}</span>
                <span class="text-sm font-semibold text-brandcolor-secondary font-sans ml-auto">{{ item.count }}</span>
              </label>
            }
            @if (hasMoreItems('state') && !accordionStates['state'].showAll) {
              <div class="pt-2 pb-1">
                <app-ghost-button label="Show more" (buttonClick)="showMore('state')"></app-ghost-button>
              </div>
            }
          }
        </div>
      </div>
      <!-- Divider below State accordion -->
      <div class="w-full h-px bg-brandcolor-strokeweak"></div>

      <!-- Court System Accordion -->
      <h3 id="accordion-collapse-heading-court-system">
        <button type="button" 
                (click)="onAccordionClick('court-system', $event)"
                class="flex items-center justify-between w-full p-3 font-medium text-left text-brandcolor-textstrong bg-transparent hover:bg-brandcolor-fill transition-colors font-sans"
                data-accordion-target="#accordion-collapse-body-court-system" 
                aria-expanded="false" 
                aria-controls="accordion-collapse-body-court-system">
          <span class="font-sans">Court System</span>
          <svg class="w-5 h-5 shrink-0 transition-transform duration-200 text-brandcolor-textstrong" data-accordion-icon fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
      </h3>
      <div id="accordion-collapse-body-court-system" class="hidden" aria-labelledby="accordion-collapse-heading-court-system">
        <div class="pt-3 px-3 pb-0 font-sans space-y-2">
          @if (accordionStates['court-system'].isLoading) {
            <div class="flex items-center justify-center py-4">
              <svg class="animate-spin h-6 w-6 text-brandcolor-secondary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </div>
          } @else {
            @for (item of getVisibleItems('court-system'); track item.label) {
              <label class="flex items-center gap-2 cursor-pointer hover:bg-brandcolor-fill p-2 rounded font-sans">
                <input type="checkbox" class="w-4 h-4 text-brandcolor-primary border-brandcolor-strokeweak rounded focus:ring-brandcolor-primary checked:bg-brandcolor-primary checked:border-brandcolor-primary">
                <span class="text-sm text-brandcolor-textstrong font-sans">{{ item.label }}</span>
                <span class="text-sm font-semibold text-brandcolor-secondary font-sans ml-auto">{{ item.count }}</span>
              </label>
            }
            @if (hasMoreItems('court-system') && !accordionStates['court-system'].showAll) {
              <div class="pt-2 pb-1">
                <app-ghost-button label="Show more" (buttonClick)="showMore('court-system')"></app-ghost-button>
              </div>
            }
          }
        </div>
      </div>
      <!-- Divider below Court System accordion -->
      <div class="w-full h-px bg-brandcolor-strokeweak"></div>

      <!-- Court Accordion -->
      <h3 id="accordion-collapse-heading-court">
        <button type="button" 
                (click)="onAccordionClick('court', $event)"
                class="flex items-center justify-between w-full p-3 font-medium text-left text-brandcolor-textstrong bg-transparent hover:bg-brandcolor-fill transition-colors font-sans"
                data-accordion-target="#accordion-collapse-body-court" 
                aria-expanded="false" 
                aria-controls="accordion-collapse-body-court">
          <span class="font-sans">Court</span>
          <svg class="w-5 h-5 shrink-0 transition-transform duration-200 text-brandcolor-textstrong" data-accordion-icon fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
      </h3>
      <div id="accordion-collapse-body-court" class="hidden" aria-labelledby="accordion-collapse-heading-court">
        <div class="pt-3 px-3 pb-0 font-sans space-y-2">
          @if (accordionStates['court'].isLoading) {
            <div class="flex items-center justify-center py-4">
              <svg class="animate-spin h-6 w-6 text-brandcolor-secondary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </div>
          } @else {
            @for (item of getVisibleItems('court'); track item.label) {
              <label class="flex items-center gap-2 cursor-pointer hover:bg-brandcolor-fill p-2 rounded font-sans">
                <input type="checkbox" class="w-4 h-4 text-brandcolor-primary border-brandcolor-strokeweak rounded focus:ring-brandcolor-primary checked:bg-brandcolor-primary checked:border-brandcolor-primary">
                <span class="text-sm text-brandcolor-textstrong font-sans">{{ item.label }}</span>
                <span class="text-sm font-semibold text-brandcolor-secondary font-sans ml-auto">{{ item.count }}</span>
              </label>
            }
            @if (hasMoreItems('court') && !accordionStates['court'].showAll) {
              <div class="pt-2 pb-1">
                <app-ghost-button label="Show more" (buttonClick)="showMore('court')"></app-ghost-button>
              </div>
            }
          }
        </div>
      </div>
      <!-- Divider below Court accordion -->
      <div class="w-full h-px bg-brandcolor-strokeweak"></div>

      <!-- Filing Date Accordion -->
      <h3 id="accordion-collapse-heading-filing-date">
        <button type="button" 
                (click)="onAccordionClick('filing-date', $event)"
                class="flex items-center justify-between w-full p-3 font-medium text-left text-brandcolor-textstrong bg-transparent hover:bg-brandcolor-fill transition-colors font-sans"
                data-accordion-target="#accordion-collapse-body-filing-date" 
                aria-expanded="false" 
                aria-controls="accordion-collapse-body-filing-date">
          <span class="font-sans">Filing Date</span>
          <svg class="w-5 h-5 shrink-0 transition-transform duration-200 text-brandcolor-textstrong" data-accordion-icon fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
      </h3>
      <div id="accordion-collapse-body-filing-date" class="hidden" aria-labelledby="accordion-collapse-heading-filing-date">
        <div class="pt-3 px-3 pb-0 font-sans">
          @if (accordionStates['filing-date']?.isLoading) {
            <div class="flex items-center justify-center py-4">
              <svg class="animate-spin h-6 w-6 text-brandcolor-secondary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </div>
          } @else {
            <p class="text-sm text-brandcolor-textweak font-sans">Filing Date options will go here</p>
          }
        </div>
      </div>
      <!-- Divider below Filing Date accordion -->
      <div class="w-full h-px bg-brandcolor-strokeweak"></div>

      <!-- Area of Law Accordion -->
      <h3 id="accordion-collapse-heading-area-of-law">
        <button type="button" 
                (click)="onAccordionClick('area-of-law', $event)"
                class="flex items-center justify-between w-full p-3 font-medium text-left text-brandcolor-textstrong bg-transparent hover:bg-brandcolor-fill transition-colors font-sans"
                data-accordion-target="#accordion-collapse-body-area-of-law" 
                aria-expanded="false" 
                aria-controls="accordion-collapse-body-area-of-law">
          <span class="font-sans">Area of Law</span>
          <svg class="w-5 h-5 shrink-0 transition-transform duration-200 text-brandcolor-textstrong" data-accordion-icon fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
      </h3>
      <div id="accordion-collapse-body-area-of-law" class="hidden" aria-labelledby="accordion-collapse-heading-area-of-law">
        <div class="pt-3 px-3 pb-0 font-sans space-y-2">
          @if (accordionStates['area-of-law'].isLoading) {
            <div class="flex items-center justify-center py-4">
              <svg class="animate-spin h-6 w-6 text-brandcolor-secondary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </div>
          } @else {
            @for (item of getVisibleItems('area-of-law'); track item.label) {
              <label class="flex items-center gap-2 cursor-pointer hover:bg-brandcolor-fill p-2 rounded font-sans">
                <input type="checkbox" class="w-4 h-4 text-brandcolor-primary border-brandcolor-strokeweak rounded focus:ring-brandcolor-primary checked:bg-brandcolor-primary checked:border-brandcolor-primary">
                <span class="text-sm text-brandcolor-textstrong font-sans">{{ item.label }}</span>
                <span class="text-sm font-semibold text-brandcolor-secondary font-sans ml-auto">{{ item.count }}</span>
              </label>
            }
            @if (hasMoreItems('area-of-law') && !accordionStates['area-of-law'].showAll) {
              <div class="pt-2 pb-1">
                <app-ghost-button label="Show more" (buttonClick)="showMore('area-of-law')"></app-ghost-button>
              </div>
            }
          }
        </div>
      </div>
      <!-- Divider below Area of Law accordion -->
      <div class="w-full h-px bg-brandcolor-strokeweak"></div>

      <!-- Case Type Group Accordion -->
      <h3 id="accordion-collapse-heading-case-type-group">
        <button type="button" 
                (click)="onAccordionClick('case-type-group', $event)"
                class="flex items-center justify-between w-full p-3 font-medium text-left text-brandcolor-textstrong bg-transparent hover:bg-brandcolor-fill transition-colors font-sans"
                data-accordion-target="#accordion-collapse-body-case-type-group" 
                aria-expanded="false" 
                aria-controls="accordion-collapse-body-case-type-group">
          <span class="font-sans">Case Type Group</span>
          <svg class="w-5 h-5 shrink-0 transition-transform duration-200 text-brandcolor-textstrong" data-accordion-icon fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
      </h3>
      <div id="accordion-collapse-body-case-type-group" class="hidden" aria-labelledby="accordion-collapse-heading-case-type-group">
        <div class="pt-3 px-3 pb-0 font-sans">
          @if (accordionStates['case-type-group']?.isLoading) {
            <div class="flex items-center justify-center py-4">
              <svg class="animate-spin h-6 w-6 text-brandcolor-secondary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </div>
          } @else {
            <p class="text-sm text-brandcolor-textweak font-sans">Case Type Group options will go here</p>
          }
        </div>
      </div>
      <!-- Divider below Case Type Group accordion -->
      <div class="w-full h-px bg-brandcolor-strokeweak"></div>

      <!-- Case Type Accordion -->
      <h3 id="accordion-collapse-heading-case-type">
        <button type="button" 
                (click)="onAccordionClick('case-type', $event)"
                class="flex items-center justify-between w-full p-3 font-medium text-left text-brandcolor-textstrong bg-transparent hover:bg-brandcolor-fill transition-colors font-sans"
                data-accordion-target="#accordion-collapse-body-case-type" 
                aria-expanded="false" 
                aria-controls="accordion-collapse-body-case-type">
          <span class="font-sans">Case Type</span>
          <svg class="w-5 h-5 shrink-0 transition-transform duration-200 text-brandcolor-textstrong" data-accordion-icon fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
      </h3>
      <div id="accordion-collapse-body-case-type" class="hidden" aria-labelledby="accordion-collapse-heading-case-type">
        <div class="pt-3 px-3 pb-0 font-sans space-y-2">
          @if (accordionStates['case-type'].isLoading) {
            <div class="flex items-center justify-center py-4">
              <svg class="animate-spin h-6 w-6 text-brandcolor-secondary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </div>
          } @else {
            @for (item of getVisibleItems('case-type'); track item.label) {
              <label class="flex items-center gap-2 cursor-pointer hover:bg-brandcolor-fill p-2 rounded font-sans">
                <input type="checkbox" class="w-4 h-4 text-brandcolor-primary border-brandcolor-strokeweak rounded focus:ring-brandcolor-primary checked:bg-brandcolor-primary checked:border-brandcolor-primary">
                <span class="text-sm text-brandcolor-textstrong font-sans">{{ item.label }}</span>
                <span class="text-sm font-semibold text-brandcolor-secondary font-sans ml-auto">{{ item.count }}</span>
              </label>
            }
            @if (hasMoreItems('case-type') && !accordionStates['case-type'].showAll) {
              <div class="pt-2 pb-1">
                <app-ghost-button label="Show more" (buttonClick)="showMore('case-type')"></app-ghost-button>
              </div>
            }
          }
        </div>
      </div>
      <!-- Divider below Case Type accordion -->
      <div class="w-full h-px bg-brandcolor-strokeweak"></div>

      <!-- Case Status Accordion -->
      <h3 id="accordion-collapse-heading-case-status">
        <button type="button" 
                (click)="onAccordionClick('case-status', $event)"
                class="flex items-center justify-between w-full p-3 font-medium text-left text-brandcolor-textstrong bg-transparent hover:bg-brandcolor-fill transition-colors font-sans"
                data-accordion-target="#accordion-collapse-body-case-status" 
                aria-expanded="false" 
                aria-controls="accordion-collapse-body-case-status">
          <span class="font-sans">Case Status</span>
          <svg class="w-5 h-5 shrink-0 transition-transform duration-200 text-brandcolor-textstrong" data-accordion-icon fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
      </h3>
      <div id="accordion-collapse-body-case-status" class="hidden" aria-labelledby="accordion-collapse-heading-case-status">
        <div class="pt-3 px-3 pb-0 font-sans space-y-2">
          @if (accordionStates['case-status'].isLoading) {
            <div class="flex items-center justify-center py-4">
              <svg class="animate-spin h-6 w-6 text-brandcolor-secondary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </div>
          } @else {
            @for (item of getVisibleItems('case-status'); track item.label) {
              <label class="flex items-center gap-2 cursor-pointer hover:bg-brandcolor-fill p-2 rounded font-sans">
                <input type="checkbox" class="w-4 h-4 text-brandcolor-primary border-brandcolor-strokeweak rounded focus:ring-brandcolor-primary checked:bg-brandcolor-primary checked:border-brandcolor-primary">
                <span class="text-sm text-brandcolor-textstrong font-sans">{{ item.label }}</span>
                <span class="text-sm font-semibold text-brandcolor-secondary font-sans ml-auto">{{ item.count }}</span>
              </label>
            }
            @if (hasMoreItems('case-status') && !accordionStates['case-status'].showAll) {
              <div class="pt-2 pb-1">
                <app-ghost-button label="Show more" (buttonClick)="showMore('case-status')"></app-ghost-button>
              </div>
            }
          }
        </div>
      </div>

  </div>
</div>
