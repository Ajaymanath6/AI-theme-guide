<!-- Welcome Section: gradient, title (32px), subtitle, tabs, search bar -->
<section
  class="w-full rounded-lg border border-brandcolor-strokeweak pt-8 px-8 pb-10"
  style="background: linear-gradient(to right, #EAEFFF 0%, #ACBEFF 100%);">
  <!-- Title (32px) + subtitle centred at top -->
  <div class="text-center mb-6">
    <h2 class="text-brandcolor-textstrong font-lora font-semibold mb-1" style="font-size: 32px;">Hello, Michel!</h2>
    <p class="text-brandcolor-textweak text-sm">What would you like to do today?</p>
  </div>
  <!-- Tabs: Cases active = secondary color + underline; all tabs same height/border-box so baselines align -->
  <div class="flex items-end gap-6">
    <button type="button" class="text-sm font-medium text-brandcolor-secondary border-b-2 border-brandcolor-secondary pb-2 pt-0 min-h-[1.5rem] leading-none box-border">Cases</button>
    <button type="button" class="text-sm font-medium text-brandcolor-textweak hover:text-brandcolor-textstrong border-b-2 border-transparent pb-2 pt-0 min-h-[1.5rem] leading-none box-border">Attorney</button>
    <button type="button" class="text-sm font-medium text-brandcolor-textweak hover:text-brandcolor-textstrong border-b-2 border-transparent pb-2 pt-0 min-h-[1.5rem] leading-none box-border">Law Firm</button>
    <button type="button" class="text-sm font-medium text-brandcolor-textweak hover:text-brandcolor-textstrong border-b-2 border-transparent pb-2 pt-0 min-h-[1.5rem] leading-none box-border">Judges</button>
    <button type="button" class="text-sm font-medium text-brandcolor-textweak hover:text-brandcolor-textstrong border-b-2 border-transparent pb-2 pt-0 min-h-[1.5rem] leading-none box-border">Parties</button>
  </div>
  <!-- 18px gap between tabs and search bar -->
  <div class="mb-[18px]" role="separator" aria-hidden="true"></div>
  <!-- Search bar: dropdown same options as search-section (Natural language, Filter, Advanced) -->
  <div class="flex items-center gap-3">
    <div class="flex-1 flex items-center border border-brandcolor-strokeweak focus-within:border-brandcolor-strokestrong rounded-md bg-brandcolor-white px-2 py-2 gap-3 transition-colors">
      <div class="relative">
        <button type="button"
                (click)="toggleDropdown()"
                class="flex items-center gap-2 pl-[10px] pr-[12px] py-3 border border-brandcolor-strokeweak rounded-md text-brandcolor-textstrong text-sm bg-brandcolor-white">
          <span class="material-symbols-outlined text-brandcolor-textstrong" style="font-size: 18px;">{{ getSearchTypeIcon() }}</span>
          <span>{{ searchType }}</span>
          <span class="material-symbols-outlined text-brandcolor-textweak" style="font-size: 18px;">expand_more</span>
        </button>
        @if (dropdownOpen) {
          <div class="absolute top-full left-0 mt-1 z-50 bg-brandcolor-white border border-brandcolor-strokeweak rounded-md shadow-lg min-w-[200px] py-1">
            <button type="button" (click)="selectSearchType('Natural language')" class="w-full flex items-center gap-2 px-4 py-2 text-brandcolor-textstrong text-sm hover:bg-brandcolor-fill">
              <span class="material-symbols-outlined text-brandcolor-textstrong" style="font-size: 18px;">auto_awesome</span>
              <span>Natural language</span>
            </button>
            <button type="button" (click)="selectSearchType('Filter')" class="w-full flex items-center gap-2 px-4 py-2 text-brandcolor-textstrong text-sm hover:bg-brandcolor-fill">
              <span class="material-symbols-outlined text-brandcolor-textstrong" style="font-size: 18px;">search</span>
              <span>Filter</span>
            </button>
            <button type="button" (click)="selectSearchType('Advanced')" class="w-full flex items-center gap-2 px-4 py-2 text-brandcolor-textstrong text-sm hover:bg-brandcolor-fill">
              <span class="material-symbols-outlined text-brandcolor-textstrong" style="font-size: 18px;">account_tree</span>
              <span>Advanced</span>
            </button>
          </div>
        }
      </div>
      <div class="h-6 w-px bg-brandcolor-strokeweak"></div>
      <input type="text" [(ngModel)]="searchQuery" [placeholder]="getSearchPlaceholder()" class="flex-1 outline-none focus:outline-none focus:ring-0 bg-transparent text-brandcolor-textstrong text-sm placeholder:text-brandcolor-textweak border-0">
      <button type="button" class="text-brandcolor-secondary bg-transparent hover:bg-brandcolor-fill rounded-md px-4 py-2 font-medium text-sm">Clear</button>
      <button type="button" class="ml-auto flex items-center gap-2 pl-[10px] pr-[12px] py-3 border-[1.5px] border-transparent bg-brandcolor-primary text-brandcolor-white hover:bg-brandcolor-primaryhover rounded-md text-sm font-medium">
        <span class="material-symbols-outlined" style="font-size: 18px;">search</span>
        <span>Search</span>
      </button>
    </div>
  </div>

  <!-- When Natural language selected: helper text + badge showing filter preview -->
  @if (searchType === 'Natural language') {
    <p class="mt-4 text-sm text-brandcolor-textstrong">
      If you would like to amend your search you can change your text in the search box or <span class="text-brandcolor-secondary underline">convert</span> to <span class="text-brandcolor-secondary underline">Filter Search</span> to add filters. Here is what your search looks like in Filter Search:
    </p>
    <!-- Badge: white, file icon left, label case, divider, Name: John, cross button no border -->
    <div class="mt-3 flex items-center gap-2 rounded-md bg-brandcolor-white px-3 py-2 w-fit">
      <span class="material-symbols-outlined text-brandcolor-textstrong" style="font-size: 18px;">description</span>
      <span class="text-brandcolor-textstrong text-sm font-medium">case</span>
      <div class="h-4 w-px bg-brandcolor-strokeweak"></div>
      <span class="text-brandcolor-textweak text-sm">Name:</span>
      <span class="text-brandcolor-textstrong text-sm font-medium">John</span>
      <button type="button" class="ml-1 p-0.5 text-brandcolor-textweak hover:text-brandcolor-textstrong hover:bg-brandcolor-fill rounded border-0 bg-transparent" aria-label="Remove">
        <span class="material-symbols-outlined" style="font-size: 18px;">close</span>
      </button>
    </div>
  }
</section>
